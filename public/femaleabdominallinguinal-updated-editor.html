<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Female Abdominal/Inguinal - Updated Coordinate Editor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 2000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }

        .header {
            background: linear-gradient(135deg, #ec4899, #db2777);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .editing-banner {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .editing-banner p {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
        }

        .completion-banner {
            background: linear-gradient(135deg, #10b981, #059669);
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
        }

        .completion-banner p {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
        }

        .main-content {
            display: flex;
            min-height: calc(100vh - 200px);
            height: auto;
        }

        .image-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f8fafc;
            border-right: 2px solid #e2e8f0;
        }

        .image-controls {
            padding: 20px;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
        }

        .file-input-container {
            margin-bottom: 20px;
        }

        .file-input-label {
            display: inline-block;
            background: #ec4899;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 600;
        }

        .file-input-label:hover {
            background: #db2777;
        }

        .file-input {
            display: none;
        }

        .image-info {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            color: #64748b;
        }

        .image-container {
            flex: 1;
            position: relative;
            overflow: auto;
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
            background: white;
            padding: 20px;
        }

        .medical-image {
            width: 512px;
            height: 768px;
            display: block;
            user-select: none;
            position: relative;
        }

        .coordinate-marker {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 3px solid white;
            cursor: grab;
            user-select: none;
            transition: all 0.2s;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .coordinate-marker:hover {
            transform: scale(1.2);
            z-index: 200;
            cursor: grab;
        }

        .coordinate-marker:active {
            cursor: grabbing;
        }

        .coordinate-marker.dragging {
            transform: scale(1.3);
            z-index: 300;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            cursor: grabbing;
        }

        /* Category colors */
        .coordinate-marker.quadrants { background-color: #ec4899; }
        .coordinate-marker.organs { background-color: #059669; }
        .coordinate-marker.inguinal { background-color: #dc2626; }
        .coordinate-marker.hernia { background-color: #ea580c; }
        .coordinate-marker.anatomical { background-color: #7c3aed; }

        .marker-label {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
            margin-bottom: 8px;
        }

        .coordinate-marker:hover .marker-label {
            opacity: 1;
        }

        .controls-panel {
            width: 400px;
            background: white;
            display: flex;
            flex-direction: column;
        }

        .panel-section {
            border-bottom: 1px solid #e2e8f0;
        }

        .section-header {
            background: #f8fafc;
            padding: 15px 20px;
            font-weight: 700;
            color: #374151;
            border-bottom: 1px solid #e2e8f0;
        }

        .section-content {
            padding: 20px;
        }

        .category-toggles {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .category-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .category-toggle:hover {
            border-color: #ec4899;
        }

        .category-toggle.active {
            background: #f3f4f6;
            border-color: #ec4899;
        }

        .category-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .coordinates-display {
            max-height: 400px;
            overflow-y: auto;
        }

        .coordinate-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f3f4f6;
            font-size: 13px;
        }

        .coordinate-item:last-child {
            border-bottom: none;
        }

        .coordinate-name {
            font-weight: 600;
            color: #374151;
            text-transform: capitalize;
        }

        .coordinate-values {
            color: #6b7280;
            font-family: 'Courier New', monospace;
        }

        .export-section {
            padding: 20px;
        }

        .export-button {
            width: 100%;
            background: #ec4899;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 15px;
        }

        .export-button:hover {
            background: #db2777;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: #fce7f3;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #f9a8d4;
        }

        .stat-number {
            display: block;
            font-size: 24px;
            font-weight: 800;
            color: #ec4899;
        }

        .stat-label {
            font-size: 12px;
            color: #db2777;
            font-weight: 600;
        }

        .instructions {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .instructions h4 {
            color: #92400e;
            margin-bottom: 8px;
        }

        .instructions ul {
            color: #92400e;
            font-size: 14px;
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 4px;
        }

        .completion-notice {
            background: #ecfdf5;
            border: 2px solid #a7f3d0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .completion-notice h4 {
            color: #059669;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .completion-notice p {
            color: #047857;
            font-size: 14px;
            margin: 0;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üë©‚Äç‚öïÔ∏è Female Abdominal/Inguinal - Updated Coordinate Editor</h1>
            <p>Upload your image, <strong>drag the colored dots</strong> to adjust positions, and export updated JSON</p>
            <div class="editing-banner">
                <p>‚úÖ UPDATED: Female abdominal/inguinal coordinates integrated (26 points)</p>
            </div>
            <div class="completion-banner">
                <p>üéâ COMPLETE: Medical examination system 100% finished! All views ready!</p>
            </div>
        </div>
        
        <div class="main-content">
            <div class="image-panel">
                <div class="image-controls">
                    <div class="file-input-container">
                        <label for="imageFile" class="file-input-label">
                            üìÅ Upload Female Abdominal/Inguinal Image
                        </label>
                        <input type="file" id="imageFile" class="file-input" accept="image/*">
                    </div>
                    <div class="image-info" id="imageInfo">
                        No image selected. Upload an image to begin editing coordinates.
                    </div>
                </div>
                
                <div class="image-container" id="imageContainer">
                    <div style="text-align: center; color: #64748b; padding: 40px;">
                        <p style="font-size: 18px; margin-bottom: 10px;">üì∏ Upload Image</p>
                        <p>Select your female abdominal/inguinal medical image to start editing coordinates</p>
                    </div>
                </div>
            </div>
            
            <div class="controls-panel">
                <div class="panel-section">
                    <div class="section-header">üéâ System Complete!</div>
                    <div class="section-content">
                        <div class="completion-notice">
                            <h4>üèÜ Medical Examination System Complete!</h4>
                            <p>This is the final view! All male and female medical examination diagrams are now integrated with precise coordinate mappings. Your medical note viewer now supports comprehensive anatomical visualization across all body systems.</p>
                        </div>
                        
                        <div class="stats">
                            <div class="stat-box">
                                <span class="stat-number" id="totalPoints">26</span>
                                <span class="stat-label">Total Points</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-number" id="categoriesCount">5</span>
                                <span class="stat-label">Categories</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-number" id="specializedPoints">22</span>
                                <span class="stat-label">Specialized</span>
                            </div>
                        </div>
                        
                        <div class="instructions">
                            <h4>üí° Abdominal/Inguinal Editing Instructions:</h4>
                            <ul>
                                <li><strong>üìÅ Step 1:</strong> Upload your female abdominal/inguinal medical image</li>
                                <li><strong>üéØ Step 2:</strong> Click and drag any colored dot to adjust position</li>
                                <li><strong>üëÄ Step 3:</strong> Hover over dots to see anatomical labels</li>
                                <li><strong>üé® Step 4:</strong> Use category buttons to focus on specific regions</li>
                                <li><strong>üíæ Step 5:</strong> Export updated JSON when positioning is perfect</li>
                                <li><strong>üîÑ Tip:</strong> Different colors represent different anatomical systems!</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="section-header">üéØ Anatomical Categories</div>
                    <div class="section-content">
                        <div class="category-toggles">
                            <div class="category-toggle active" data-category="quadrants">
                                <div class="category-color" style="background-color: #ec4899;"></div>
                                <span>Quadrants (4)</span>
                            </div>
                            <div class="category-toggle active" data-category="organs">
                                <div class="category-color" style="background-color: #059669;"></div>
                                <span>Organs (7)</span>
                            </div>
                            <div class="category-toggle active" data-category="inguinal">
                                <div class="category-color" style="background-color: #dc2626;"></div>
                                <span>Inguinal (6)</span>
                            </div>
                            <div class="category-toggle active" data-category="hernia">
                                <div class="category-color" style="background-color: #ea580c;"></div>
                                <span>Hernia (4)</span>
                            </div>
                            <div class="category-toggle active" data-category="anatomical">
                                <div class="category-color" style="background-color: #7c3aed;"></div>
                                <span>Landmarks (5)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="section-header">üìã Current Coordinates</div>
                    <div class="section-content">
                        <div class="coordinates-display" id="coordinatesDisplay">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="export-section">
                    <button class="export-button" onclick="exportJSON()">
                        üíæ Export Updated JSON
                    </button>
                    <button class="export-button" onclick="resetCoordinates()" style="background: #db2777; margin-top: 10px;">
                        üîÑ Reset to Original
                    </button>
                    <div id="exportStatus" style="margin-top: 15px; font-size: 14px; text-align: center;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Female abdominal/inguinal coordinates
        let coordinates = {
            // Abdominal quadrants (4 points)
            "right_upper_quadrant": { "x": 134, "y": 223, "width": 40, "height": 40, "category": "quadrants" },
            "left_upper_quadrant": { "x": 378, "y": 225, "width": 40, "height": 40, "category": "quadrants" },
            "right_lower_quadrant": { "x": 141, "y": 426, "width": 40, "height": 40, "category": "quadrants" },
            "left_lower_quadrant": { "x": 366, "y": 427, "width": 40, "height": 40, "category": "quadrants" },

            // Abdominal organs (7 points)
            "liver_edge": { "x": 148, "y": 185, "width": 35, "height": 35, "category": "organs" },
            "gallbladder": { "x": 172, "y": 205, "width": 30, "height": 30, "category": "organs" },
            "spleen": { "x": 366, "y": 177, "width": 35, "height": 35, "category": "organs" },
            "left_kidney": { "x": 417, "y": 309, "width": 32, "height": 32, "category": "organs" },
            "right_kidney": { "x": 88, "y": 310, "width": 32, "height": 32, "category": "organs" },
            "bladder": { "x": 252, "y": 540, "width": 35, "height": 35, "category": "organs" },
            "appendix": { "x": 170, "y": 431, "width": 30, "height": 30, "category": "organs" },

            // Inguinal region (6 points)
            "right_inguinal_canal": { "x": 142, "y": 508, "width": 35, "height": 35, "category": "inguinal" },
            "left_inguinal_canal": { "x": 357, "y": 507, "width": 35, "height": 35, "category": "inguinal" },
            "right_inguinal_lymph_nodes": { "x": 161, "y": 555, "width": 30, "height": 30, "category": "inguinal" },
            "left_inguinal_lymph_nodes": { "x": 337, "y": 559, "width": 30, "height": 30, "category": "inguinal" },
            "right_femoral_triangle": { "x": 126, "y": 557, "width": 32, "height": 32, "category": "inguinal" },
            "left_femoral_triangle": { "x": 372, "y": 558, "width": 32, "height": 32, "category": "inguinal" },

            // Hernia sites (4 points)
            "right_direct_hernia": { "x": 168, "y": 528, "width": 28, "height": 28, "category": "hernia" },
            "left_direct_hernia": { "x": 331, "y": 532, "width": 28, "height": 28, "category": "hernia" },
            "right_indirect_hernia": { "x": 198, "y": 589, "width": 28, "height": 28, "category": "hernia" },
            "left_indirect_hernia": { "x": 307, "y": 592, "width": 28, "height": 28, "category": "hernia" },

            // Anatomical landmarks (5 points)
            "umbilicus": { "x": 251, "y": 352, "width": 25, "height": 25, "category": "anatomical" },
            "epigastrium": { "x": 255, "y": 200, "width": 35, "height": 35, "category": "anatomical" },
            "hypogastrium": { "x": 251, "y": 489, "width": 35, "height": 35, "category": "anatomical" },
            "right_flank": { "x": 140, "y": 312, "width": 30, "height": 30, "category": "anatomical" },
            "left_flank": { "x": 375, "y": 310, "width": 30, "height": 30, "category": "anatomical" }
        };

        let imageElement = null;
        let isDragging = false;
        let dragElement = null;
        let dragOffset = { x: 0, y: 0 };
        let visibleCategories = new Set(['quadrants', 'organs', 'inguinal', 'hernia', 'anatomical']);

        // Store original coordinates for reset functionality
        const originalCoordinates = JSON.parse(JSON.stringify(coordinates));

        // Image upload handling
        document.getElementById('imageFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                loadImage(e.target.result, file.name);
            };
            reader.readAsDataURL(file);
        });

        function loadImage(src, filename) {
            const container = document.getElementById('imageContainer');
            container.innerHTML = '';
            
            imageElement = document.createElement('img');
            imageElement.src = src;
            imageElement.className = 'medical-image';
            
            imageElement.onload = function() {
                container.appendChild(imageElement);
                
                // Update image info
                document.getElementById('imageInfo').innerHTML = `
                    <strong>üì∏ Image:</strong> ${filename}<br>
                    <strong>üìê Dimensions:</strong> ${imageElement.naturalWidth} √ó ${imageElement.naturalHeight}px<br>
                    <strong>üìä Display Size:</strong> ${imageElement.offsetWidth} √ó ${imageElement.offsetHeight}px
                `;
                
                createMarkers();
            };
        }

        function createMarkers() {
            if (!imageElement) return;

            // Remove existing markers
            const existingMarkers = document.querySelectorAll('.coordinate-marker');
            existingMarkers.forEach(marker => marker.remove());

            // Create new markers
            Object.entries(coordinates).forEach(([name, coord]) => {
                if (!visibleCategories.has(coord.category)) return;

                const marker = document.createElement('div');
                marker.className = `coordinate-marker ${coord.category}`;
                marker.dataset.name = name;
                
                // Position marker
                updateMarkerPosition(marker, coord);
                
                // Add label
                const label = document.createElement('div');
                label.className = 'marker-label';
                label.textContent = `${name.replace(/_/g, ' ')} (${coord.x}, ${coord.y})`;
                marker.appendChild(label);
                
                // Add drag functionality
                addDragFunctionality(marker);
                
                imageElement.parentElement.appendChild(marker);
            });

            updateCoordinatesDisplay();
            updateStats();
        }

        function updateMarkerPosition(marker, coord) {
            if (!imageElement) return;
            
            const imageRect = imageElement.getBoundingClientRect();
            const containerRect = imageElement.parentElement.getBoundingClientRect();
            
            const scaleX = imageElement.offsetWidth / imageElement.naturalWidth;
            const scaleY = imageElement.offsetHeight / imageElement.naturalHeight;
            
            const x = (imageRect.left - containerRect.left) + (coord.x * scaleX);
            const y = (imageRect.top - containerRect.top) + (coord.y * scaleY);
            
            marker.style.left = x + 'px';
            marker.style.top = y + 'px';
        }

        function addDragFunctionality(marker) {
            marker.addEventListener('mousedown', startDrag);
        }

        function startDrag(e) {
            e.preventDefault();
            isDragging = true;
            dragElement = e.target.closest('.coordinate-marker');
            dragElement.classList.add('dragging');
            
            const rect = dragElement.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left - rect.width / 2;
            dragOffset.y = e.clientY - rect.top - rect.height / 2;
            
            document.addEventListener('mousemove', handleDrag);
            document.addEventListener('mouseup', endDrag);
        }

        function handleDrag(e) {
            if (!isDragging || !dragElement || !imageElement) return;
            
            const containerRect = imageElement.parentElement.getBoundingClientRect();
            const imageRect = imageElement.getBoundingClientRect();
            
            let x = e.clientX - containerRect.left - dragOffset.x;
            let y = e.clientY - containerRect.top - dragOffset.y;
            
            // Constrain to image bounds
            const minX = imageRect.left - containerRect.left;
            const maxX = imageRect.right - containerRect.left;
            const minY = imageRect.top - containerRect.top;
            const maxY = imageRect.bottom - containerRect.top;
            
            x = Math.max(minX, Math.min(maxX, x));
            y = Math.max(minY, Math.min(maxY, y));
            
            dragElement.style.left = x + 'px';
            dragElement.style.top = y + 'px';
        }

        function endDrag(e) {
            if (!isDragging || !dragElement) return;
            
            // Update coordinate data
            const name = dragElement.dataset.name;
            const containerRect = imageElement.parentElement.getBoundingClientRect();
            const imageRect = imageElement.getBoundingClientRect();
            
            const markerRect = dragElement.getBoundingClientRect();
            const markerCenterX = markerRect.left + markerRect.width / 2;
            const markerCenterY = markerRect.top + markerRect.height / 2;
            
            const relativeX = markerCenterX - imageRect.left;
            const relativeY = markerCenterY - imageRect.top;
            
            const scaleX = imageElement.naturalWidth / imageElement.offsetWidth;
            const scaleY = imageElement.naturalHeight / imageElement.offsetHeight;
            
            const newX = Math.round(relativeX * scaleX);
            const newY = Math.round(relativeY * scaleY);
            
            coordinates[name].x = newX;
            coordinates[name].y = newY;
            
            // Update label
            const label = dragElement.querySelector('.marker-label');
            if (label) {
                label.textContent = `${name.replace(/_/g, ' ')} (${newX}, ${newY})`;
            }
            
            dragElement.classList.remove('dragging');
            isDragging = false;
            dragElement = null;
            
            document.removeEventListener('mousemove', handleDrag);
            document.removeEventListener('mouseup', endDrag);
            
            updateCoordinatesDisplay();
            
            // Show brief update indicator
            const statusDiv = document.getElementById('exportStatus');
            if (statusDiv && !statusDiv.innerHTML.includes('exported') && !statusDiv.innerHTML.includes('reset')) {
                statusDiv.innerHTML = '<span style="color: #db2777;">üìç Coordinates updated</span>';
                setTimeout(() => {
                    if (statusDiv.innerHTML.includes('updated')) {
                        statusDiv.innerHTML = '';
                    }
                }, 2000);
            }
        }

        // Category toggle functionality
        document.querySelectorAll('.category-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const category = this.dataset.category;
                
                if (visibleCategories.has(category)) {
                    visibleCategories.delete(category);
                    this.classList.remove('active');
                } else {
                    visibleCategories.add(category);
                    this.classList.add('active');
                }
                
                createMarkers();
            });
        });

        function updateCoordinatesDisplay() {
            const display = document.getElementById('coordinatesDisplay');
            display.innerHTML = '';
            
            Object.entries(coordinates).forEach(([name, coord]) => {
                const item = document.createElement('div');
                item.className = 'coordinate-item';
                item.innerHTML = `
                    <div class="coordinate-name">${name.replace(/_/g, ' ')}</div>
                    <div class="coordinate-values">${coord.x}, ${coord.y}</div>
                `;
                display.appendChild(item);
            });
        }

        function updateStats() {
            const categories = {
                quadrants: 0,
                organs: 0,
                inguinal: 0,
                hernia: 0,
                anatomical: 0
            };
            
            Object.values(coordinates).forEach(coord => {
                categories[coord.category]++;
            });
            
            document.getElementById('totalPoints').textContent = Object.values(coordinates).length;
            document.getElementById('categoriesCount').textContent = Object.keys(categories).length;
            document.getElementById('specializedPoints').textContent = Object.values(coordinates).length - categories.anatomical;
        }

        function exportJSON() {
            const statusDiv = document.getElementById('exportStatus');
            statusDiv.innerHTML = '<span style="color: #ec4899;">üîÑ Preparing export...</span>';
            
            const exportData = {
                image_name: "femaleabdominallinguinal.png",
                image_type: "abdominallinguinal", 
                image_dimensions: {
                    width: 512,
                    height: 768
                },
                body_parts: {}
            };

            // Convert coordinates to export format
            Object.entries(coordinates).forEach(([name, coord]) => {
                exportData.body_parts[name] = {
                    x: coord.x,
                    y: coord.y,
                    width: coord.width,
                    height: coord.height
                };
            });

            exportData.export_timestamp = new Date().toISOString();
            exportData.modified_by = "coordinate_editor";
            exportData.total_points = Object.keys(coordinates).length;

            // Create and download file
            const jsonString = JSON.stringify(exportData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
            const a = document.createElement('a');
            a.href = url;
            a.download = `femaleabdominallinguinal_coordinates_${timestamp}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            statusDiv.innerHTML = '<span style="color: #db2777;">‚úÖ JSON exported successfully! Medical system 100% complete!</span>';
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 5000);
        }

        function resetCoordinates() {
            if (confirm('Are you sure you want to reset all coordinates to their original positions?')) {
                coordinates = JSON.parse(JSON.stringify(originalCoordinates));
                createMarkers();
                document.getElementById('exportStatus').innerHTML = '<span style="color: #db2777;">üîÑ Coordinates reset to original positions</span>';
                setTimeout(() => {
                    document.getElementById('exportStatus').innerHTML = '';
                }, 3000);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCoordinatesDisplay();
            updateStats();
        });
    </script>
</body>
</html>
